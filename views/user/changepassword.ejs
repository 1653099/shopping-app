<% include ../partials/header %>

<% include ../partials/category_nav %>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <table class="table table-bordered">
                <tr>
                    <td class="info-header"> <i class="fas fa-user"></i> Tài khoản</td>
                </tr>
                <tr>
                    <td><a href="/info">Thông tin tài khoản</a></td>
                </tr>
                <tr>
                    <td><a href="/info/changepassword">Đổi mật khẩu</a></td>
                </tr>
                <tr>
                    <td><a href="/info/edit">Sửa thông tin tài khoản</a></td>
                </tr>
                <tr>
                    <td><a href="/info/cart">Quản lý đơn hàng</a></td>
                </tr>
            </table>
        </div>
        <div class="col-md-9">
            <h3>Đổi mật khẩu</h3>
            <hr>
            <form action="/info/changepassword?_method=PUT" method="POST">
                <div class="form-groups mb-3">
                    <label for="old-password"><span style="color:red">*</span> Mật khẩu cũ:</label>
                    <input type="password" class="form-control w-25 mt-0" name="oldPassword" id="old-password" required>
                </div>
                <div class="form-groups mb-3">
                    <label for="new-password"><span style="color:red">*</span> Mật khẩu mới:</label>
                    <input type="password" class="form-control w-25 mt-0" name="newPassword" id="new-password" placeholder="Ít nhất 7 ký tự" minlength="7" required>
                </div>
                <div class="form-groups mb-3">
                    <label for="confirm-password"><span style="color:red">*</span> Nhập lại mật khẩu mới:</label>
                    <input type="password" class="form-control w-25 mt-0" name="confirmPassword" id="confirm-password" minlength="7" required>
                </div>
                <button class="btn btn-warning">Xác nhận</button>
            </form>
        </div>
    </div>
</div>

<script>
    var password = document.getElementById("new-password");
    var confirm_password = document.getElementById("confirm-password");

    function validatePassword() {
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;    
</script>

<% include ../partials/footer %>